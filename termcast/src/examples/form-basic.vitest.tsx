// node-pty does not work in bun, so we use vitest to run this test
import { test, expect, afterEach, beforeEach } from 'vitest'
import { NodeTuiDriver } from '@termcast/cli/src/e2e-node'

let driver: NodeTuiDriver

beforeEach(() => {
    driver = new NodeTuiDriver('bun', ['src/examples/form-basic.tsx'], {
        cols: 70,
        rows: 50,
    })
})

afterEach(() => {
    driver?.dispose()
})

test('form basic navigation and input', async () => {
    await driver.text({
        waitFor: (text) => {
            // wait for form to show up
            return /Form Component Demo/i.test(text)
        },
    })

    const initialSnapshot = await driver.text()
    expect(initialSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsername โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Enter your username                                            โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Enter secure password                                          โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Tell us about yourself...                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [ ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Type in username field
    await driver.keys.type('johndoe')

    const afterUsernameSnapshot = await driver.text()
    expect(afterUsernameSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsername โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ johndoe                                                        โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Enter secure password                                          โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Tell us about yourself...                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [ ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Tab to password field
    await driver.keys.tab()
    await driver.keys.type('securepass123')

    const afterPasswordSnapshot = await driver.text()
    expect(afterPasswordSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsernameโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ johndoe                                                        โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPassword โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ securepass123                                                  โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Tell us about yourself...                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [ ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Tab to biography field
    await driver.keys.tab()
    await driver.keys.type('I am a software developer')

    const afterBioSnapshot = await driver.text()
    expect(afterBioSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsernameโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ johndoe                                                        โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ *************                                                  โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiography โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ I am a software developer                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [ ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Tab to newsletter checkbox and toggle it
    await driver.keys.tab()
    await driver.keys.space()

    const afterCheckboxSnapshot = await driver.text()
    expect(afterCheckboxSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsernameโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ johndoe                                                        โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ *************                                                  โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ I am a software developer                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferences โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [โ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Tab to country dropdown and open it
    await driver.keys.tab()
    await driver.keys.space()

    const dropdownOpenSnapshot = await driver.text()
    expect(dropdownOpenSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsernameโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ johndoe                                                        โ

        Country                                                    esc

        Select your country
        ๐บ๐ธ** United States
        ๐จ๐ฆโโ Canada
        ๐ฒ๐ฝ b Mexico
        ๐ฌ๐งog United Kingdom
        ๐ซ๐ท   France
        ๐ฉ๐ชam Germany


        โต select   โโ navigate

      โ [โ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountry โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country โผ                                          โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Select United States
    await driver.keys.enter()

    const afterCountrySelectSnapshot = await driver.text()
    expect(afterCountrySelectSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsernameโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ johndoe                                                        โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ *************                                                  โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ I am a software developer                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [โ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountry โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ United States โผ                                                โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Tab to date picker
    await driver.keys.tab()
    await driver.keys.type('1990-05-15')

    const afterDateSnapshot = await driver.text()
    expect(afterDateSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsernameโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ johndoe                                                        โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ *************                                                  โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ I am a software developer                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [โ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ United States                                                  โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birth โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ 1990-05-15                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Submit form with Cmd+Enter
    await driver.keys.cmdEnter()

    const afterSubmitSnapshot = await driver.text({
        waitFor: (text) => {
            // wait for submitted data to show
            return /Submitted Data:/i.test(text)
        },
    })
    expect(afterSubmitSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsernameโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ johndoe                                                        โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ *************                                                  โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ I am a software developer                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [โ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ United States                                                  โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birth โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ 1990-05-15                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)
}, 15000)

test('form navigation with shift+tab', async () => {
    await driver.text({
        waitFor: (text) => {
            // wait for form to show up
            return /Form Component Demo/i.test(text)
        },
    })

    // Fill some fields first
    await driver.keys.type('testuser')
    await driver.keys.tab()
    await driver.keys.type('password')
    await driver.keys.tab()

    const afterForwardTabSnapshot = await driver.text()
    expect(afterForwardTabSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsernameโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ testuser                                                       โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ ********                                                       โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiography โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Tell us about yourself...                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [ ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Navigate backwards with Shift+Tab
    await driver.keys.shiftTab()

    const afterBackwardTabSnapshot = await driver.text()
    expect(afterBackwardTabSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsernameโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ testuser                                                       โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPassword โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ password                                                       โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Tell us about yourself...                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [ ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Go back to username field
    await driver.keys.shiftTab()

    const backToUsernameSnapshot = await driver.text()
    expect(backToUsernameSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsername โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ testuser                                                       โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ ********                                                       โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Tell us about yourself...                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [ ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Clear and type new username
    await driver.keys.ctrlA()
    await driver.keys.type('newuser')

    const afterEditUsernameSnapshot = await driver.text()
    expect(afterEditUsernameSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsername โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ testusernewuser                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ ********                                                       โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Tell us about yourself...                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [ ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)
}, 10000)

test('form dropdown navigation', async () => {
    await driver.text({
        waitFor: (text) => {
            // wait for form to show up
            return /Form Component Demo/i.test(text)
        },
    })

    // Navigate to dropdown
    await driver.keys.tab() // username
    await driver.keys.tab() // password
    await driver.keys.tab() // bio
    await driver.keys.tab() // checkbox
    await driver.keys.tab() // dropdown

    // Open dropdown
    await driver.keys.space()

    const dropdownOpenSnapshot = await driver.text()
    expect(dropdownOpenSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsernameโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Enter your username                                            โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Enter secure password                                          โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Tell us about yourself...                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [ ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birth โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Navigate down in dropdown
    await driver.keys.down()

    const afterDownSnapshot = await driver.text()
    expect(afterDownSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsername โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Enter your username                                            โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Enter secure password                                          โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Tell us about yourself...                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferencesโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [ ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Navigate to Europe section
    await driver.keys.down()
    await driver.keys.down()
    await driver.keys.down()

    const europeSelectionSnapshot = await driver.text()
    expect(europeSelectionSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsernameโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Enter your username                                            โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Enter secure password                                          โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Tell us about yourself...                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferences โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [ ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)

    // Select France
    await driver.keys.enter()

    const afterFranceSelectSnapshot = await driver.text()
    expect(afterFranceSelectSnapshot).toMatchInlineSnapshot(`
      "


      Form Component Demo
      This demonstrates all available form input types. Use Tab to navig


      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

      โโUsernameโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Enter your username                                            โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Required field
      โโPasswordโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Enter secure password                                          โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Must be at least 8 characters
      โโBiographyโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Tell us about yourself...                                      โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Maximum 500 characters
      โโEmail Preferences โนโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ [โ] Subscribe to newsletter                                    โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Receive weekly updates
      โโCountryโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ Select your country                                            โ
      โ                                                                โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Your country of residence
      โโDate of Birthโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      โ                                                                โ
      โ YYYY-MM-DD                                                     โ
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      Format: YYYY-MM-DD

      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


      Form Navigation
      โข Tab: Next field | Shift+Tab: Previous field | Space: Toggle chec"
    `)
}, 10000)
